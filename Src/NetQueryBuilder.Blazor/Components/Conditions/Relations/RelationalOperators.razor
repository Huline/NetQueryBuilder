@using NetQueryBuilder.Conditions
@using NetQueryBuilder.Operators
@using NetQueryBuilder.Queries
<Select T="ExpressionOperator" Label="Operator" Value="Operator" ValueChanged="OperatorChanged" Items="_operators" ToStringFunc="@(o => o?.ToString())" />

@code {

    [CascadingParameter] public IQuery Query { get; set; } = null!;

    [Parameter] public SimpleCondition Condition { get; set; } = null!;

    private ExpressionOperator? Operator { get; set; }
    private IEnumerable<ExpressionOperator> _operators = new List<ExpressionOperator>();

    protected override void OnParametersSet()
    {
        _operators = Condition.AvailableOperatorsForCurrentProperty();
        Operator = Condition.Operator;
    }

    private void OperatorChanged(ExpressionOperator op)
    {
        Operator = op;
        Condition.Operator = op;
    }

}